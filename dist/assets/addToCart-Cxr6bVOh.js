import{g as d,s as q,u as f,p as S}from"./showToast-xVNajlUH.js";const g=(r,e)=>{let c=1,o=d().find(l=>l.id===r);return o&&(c=o.quantity,e=o.price),{quantity:c,price:e}},x=r=>{let e=d();e=e.filter(n=>n.id!==r),localStorage.setItem("cartProductLS",JSON.stringify(e));let c=document.getElementById(`card${r}`);c&&(c.remove(),q("delete",r)),f(e)},C=()=>{let r=document.querySelector(".productSubTotal"),e=document.querySelector(".productFinalTotal"),o=d().reduce((l,i)=>{let t=parseInt(i.price)||0;return l+t},0);r.textContent=`Rs.${o}`,e.textContent=`Rs.${o+50}`},T=(r,e,c,n)=>{const o=document.querySelector(`#card${e}`),l=o.querySelector(".productQuantity"),i=o.querySelector(".productPrice");let t=1,a=0,u=d(),s=u.find(m=>m.id===e);s?(t=s.quantity,a=s.price):a=n,r.target.classList.contains("cartIncrement")&&t<c&&(t+=1),r.target.classList.contains("cartDecrement")&&t>1&&(t-=1),a=n*t;let p;const y=u.findIndex(m=>m.id===e);y!==-1?(u[y]={id:e,quantity:t,price:a},p=u):p=[...u,{id:e,quantity:t,price:a}],localStorage.setItem("cartProductLS",JSON.stringify(p)),l.innerText=t,i.innerText=a,C()};let I=d();console.log("Cart products:",S);let P=S.filter(r=>I.some(e=>e.id===r.id));console.log(P);const L=document.querySelector("#productCartContainer"),E=document.querySelector("#productCartTemplate"),v=()=>{P.forEach(r=>{const{category:e,id:c,image:n,name:o,stock:l,price:i}=r;let t=document.importNode(E.content,!0);const a=g(c,i);t.querySelector("#cardValue").setAttribute("id",`card${c}`),t.querySelector(".category").textContent=e,t.querySelector(".productName").textContent=o,t.querySelector(".productImage").src=n,t.querySelector(".productQuantity").textContent=a.quantity,t.querySelector(".productPrice").textContent=a.price,t.querySelector(".stockElement").addEventListener("click",u=>{T(u,c,l,i)}),t.querySelector(".remove-to-cart-button").addEventListener("click",()=>x(c)),L.appendChild(t)})};v();C();
